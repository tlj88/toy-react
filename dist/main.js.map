{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./main.js","webpack:///./toy-react.js"],"names":["Square","props","onClick","value","Component","Board","i","squares","renderSquare","Game","state","history","Array","fill","stepNumber","xIsNext","slice","current","length","calculateWinner","setState","concat","step","winner","moves","map","move","desc","jumpTo","status","handleClick","render","document","getElementById","lines","a","b","c","RENDER_TO_DOM","Symbol","Object","create","children","_root","_range","name","child","push","range","_vdom","vdom","isSameNode","oldNode","newNode","type","keys","content","update","newChildren","vchildren","oldChildren","newChild","oldChild","tailRange","createRange","setStart","endContainer","endOffset","setEnd","newState","merge","oldState","p","ElementWrapper","root","createElement","match","addEventListener","RegExp","$1","replace","toLocaleLowerCase","setAttribute","childRange","childNodes","replaceContent","TextWrapper","createTextNode","node","insertNode","setStartAfter","deleteContents","setStartBefore","setEndAfter","insertChild","parent","appendChild","attributes","e","key","component","mountEle"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","import { createElement, Component, render } from './toy-react.js'\n\nclass Square extends Component {\n    render() {\n        return (\n            <button className=\"square\" onClick={this.props.onClick}>\n                {this.props.value}\n            </button>\n        );\n    }\n}\n\nclass Board extends Component {\n    renderSquare(i) {\n        return (\n            <Square\n                value={this.props.squares[i]}\n                onClick={() => this.props.onClick(i)}\n            />\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"board-row\">\n                    {this.renderSquare(0)}\n                    {this.renderSquare(1)}\n                    {this.renderSquare(2)}\n                </div>\n                <div className=\"board-row\">\n                    {this.renderSquare(3)}\n                    {this.renderSquare(4)}\n                    {this.renderSquare(5)}\n                </div>\n                <div className=\"board-row\">\n                    {this.renderSquare(6)}\n                    {this.renderSquare(7)}\n                    {this.renderSquare(8)}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Game extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            history: [\n                {\n                    squares: Array(9).fill(null)\n                }\n            ],\n            stepNumber: 0,\n            xIsNext: true\n        };\n    }\n\n    handleClick(i) {\n        const history = this.state.history.slice(0, this.state.stepNumber + 1);\n        const current = history[history.length - 1];\n        const squares = current.squares.slice();\n        if (calculateWinner(squares) || squares[i]) {\n            return;\n        }\n        squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n        this.setState({\n            history: history.concat([\n                {\n                    squares: squares\n                }\n            ]),\n            stepNumber: history.length,\n            xIsNext: !this.state.xIsNext\n        });\n    }\n\n    jumpTo(step) {\n        this.setState({\n            stepNumber: step,\n            xIsNext: (step % 2) === 0\n        });\n    }\n\n    render() {\n        const history = this.state.history;\n        const current = history[this.state.stepNumber];\n        const winner = calculateWinner(current.squares);\n\n        const moves = history.map((step, move) => {\n            const desc = move ?\n                'Go to move #' + move :\n                'Go to game start';\n            return (\n                <li key={move}>\n                    <button onClick={() => this.jumpTo(move)}>{desc}</button>\n                </li>\n            );\n        });\n\n        let status;\n        if (winner) {\n            status = \"Winner: \" + winner;\n        } else {\n            status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n        }\n\n        return (\n            <div className=\"game\">\n                <div className=\"game-board\">\n                    <Board\n                        squares={current.squares}\n                        onClick={i => this.handleClick(i)}\n                    />\n                </div>\n                <div className=\"game-info\">\n                    <div>{status}</div>\n                    <ol>{moves}</ol>\n                </div>\n            </div>\n        );\n    }\n}\n\n// ========================================\nrender(<Game />, document.getElementById(\"root\"));\n\nfunction calculateWinner(squares) {\n    const lines = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ];\n    for (let i = 0; i < lines.length; i++) {\n        const [a, b, c] = lines[i];\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n            return squares[a];\n        }\n    }\n    return null;\n}\n\n\n\n\n// class MyComponent extends Component {\n//     constructor(props) { \n//         super(props)\n//         this.state = {\n//             a: 1,\n//             b: 2\n//         }\n//     }\n//     render() { \n//         return <div class=\"my-component\">\n//             <h1>my component</h1>\n//             <button onclick={() => { this.setState({ a: this.state.a++ })}}>click</button>\n//             <span>{this.state.a.toString()}</span>\n//             <span>{this.state.b.toString()}</span>\n//         </div>\n//     }\n// }\n\n\n// // jsx\n// render(<MyComponent id=\"app\" class=\"test\">\n//     <div>bjyx</div>\n//     <div></div>\n//     <div></div>\n// </MyComponent>, document.getElementById('app'))","const RENDER_TO_DOM = Symbol('render to dom')\n\nclass Component { \n    constructor(props) { \n        this.props = Object.create(null)\n        this.children = []\n        this._root = null\n        this._range = null\n    }\n    setAttribute(name, value) { \n        // this.attributes[name] = value    // props还未实现\n        this.props[name] = value\n    }\n    appendChild(child) {    // component 添加 \n        this.children.push(child)\n    }\n    [RENDER_TO_DOM](range) { \n        this._range = range\n        this._vdom = this.vdom\n        this._vdom[RENDER_TO_DOM](range)\n    }\n\n    update() { \n        let isSameNode = (oldNode, newNode) => { \n            if (oldNode.type !== newNode.type) { \n                return false\n            }\n            for (let name in newNode.props) { \n                if (newNode.props[name] !== oldNode.props[name]) { \n                    return false\n                }\n            }\n            if (Object.keys(oldNode.props).length !== Object.keys(newNode.props).length) { \n                return false\n            }\n            if (newNode.type == '#text') { \n                if (newNode.content !== oldNode.content) { \n                    return false\n                }\n            }\n            return true\n        }\n        let update = (oldNode, newNode) => { \n            // type, props, children\n            // #text content\n\n            if (!isSameNode(oldNode, newNode)) { \n                // 这边体现range的优势，可以非常方便的更新range的内容\n                newNode[RENDER_TO_DOM](oldNode._range)   \n                return\n            }\n            newNode._range = oldNode._range\n\n            let newChildren = newNode.vchildren\n            let oldChildren = oldNode.vchildren\n            for (let i = 0; i < newChildren.length; i++) {\n                let newChild = newChildren[i]\n                let oldChild = oldChildren[i]\n\n                if (!newChildren || !newChildren.length) { \n                    return\n                }\n\n                let tailRange = oldChildren[oldChildren.length - 1]._range\n                if (i < oldChildren.length) {\n                    update(oldChild, newChild)\n                } else { \n                    let range = document.createRange()\n                    range.setStart(tailRange.endContainer, tailRange.endOffset)\n                    range.setEnd(tailRange.endContainer, tailRange.endOffset)\n                    newChild[RENDER_TO_DOM](range)\n                    tailRange = range\n                }\n            }\n        }\n\n        let vdom = this.vdom\n        update(this._vdom, vdom)\n        this._vdom = vdom\n    }\n    // rerender() {\n        // let oldRange = this._range \n\n        // let range = document.createRange()\n        // range.setStart(oldRange.startContainer, oldRange.startOffset)\n        // range.setEnd(oldRange.startContainer, oldRange.startOffset)\n        // this[RENDER_TO_DOM](range)\n\n        // oldRange.setStart(range.endContainer, range.endOffset)\n        // oldRange.deleteContents()\n    // }\n    setState(newState) { \n        if (this.state === null || typeof this.state !== 'object') { \n            this.state = newState\n            // this.rerender()\n            this.update()\n            return\n        }\n        let merge = (oldState, newState) => { \n            for (let p in newState) { \n                if (oldState[p] === null || typeof oldState[p] !== 'object') {\n                    oldState[p] = newState[p]\n                } else { \n                    merge(oldState[p], newState[p])\n                }\n            }\n        }\n        merge(this.state, newState)\n        // this.rerender()\n        this.update()\n    }\n    get vdom() { \n        return this.render().vdom\n    }\n    // get vchildren() { \n    //     return this.children.map(child => child.vdom)\n    // }\n}\n\nclass ElementWrapper extends Component{ \n    constructor(type) { \n        super(type)\n        this.type = type\n        // this.root = document.createElement(type)\n    }\n    \n    [RENDER_TO_DOM](range) {\n        this._range = range\n        // range.deleteContents()\n\n        let root = document.createElement(this.type)\n\n        for (let name in this.props) {\n            let value = this.props[name]\n\n            if (name.match(/^on([\\s\\S]+)/)) {\n                root.addEventListener(RegExp.$1.replace(/^[\\s\\S]/, c => c.toLocaleLowerCase()), value)\n            } else {\n                if (name === 'className') {\n                    name = 'class'\n                }\n                root.setAttribute(name, value)\n            }\n        }\n\n        if (!this.vchildren) { \n            this.vchildren = this.children.map(child => child.vdom)\n        }\n\n        for (let child of this.vchildren) { \n            let childRange = document.createRange()\n            childRange.setStart(root, root.childNodes.length)\n            childRange.setEnd(root, root.childNodes.length)\n            child[RENDER_TO_DOM](childRange)\n        }\n        // range.insertNode(root)  // 插入到末尾\n        replaceContent(range, root)\n    }\n\n    get vdom() { \n        this.vchildren = this.children.map(child => child.vdom)\n        return this\n        // return {\n        //     type: this.type,\n        //     props: this.props,\n        //     children: this.children.map(child => child.vdom)\n        // }\n    }\n}\n\nclass TextWrapper extends Component { \n    constructor(content) {\n        super(content)\n        this.type = '#text'\n        this.content = content\n        // this.root = document.createTextNode(content)\n    }\n    [RENDER_TO_DOM](range) { \n        this._range = range\n        // range.deleteContents()\n        // range.insertNode(this.root)  // 插入到末尾\n        let root = document.createTextNode(this.content)\n        replaceContent(range, root)\n    }\n    get vdom() {\n        return this\n        // return {\n        //     type: '#text',\n        //     content: this.content\n        // }\n    }\n}\n\nfunction replaceContent(range, node) { \n    range.insertNode(node)\n    range.setStartAfter(node)\n    range.deleteContents()\n\n    range.setStartBefore(node)\n    range.setEndAfter(node)\n}\n\nfunction insertChild(children, parent) { \n    // if (\n    //     typeof child == 'object' &&\n    //     child instanceof Array\n    // ) { \n    //     for (let c of child) { \n    //         insertChild(c, parent)\n    //     }\n    // }\n    // if (child === null) {\n    //     return\n    // }\n    // if (typeof child === 'string') {\n    //     child = new TextWrapper(child)\n    // }\n    // parent.appendChild(child)\n    \n    for(let child of children) {\n        if (typeof child === 'string') {\n            child = new TextWrapper(child)\n        }\n        if (child === null) {\n            continue\n        }\n        if (typeof child == 'object' &&\n            child instanceof Array) {\n                insertChild(child, parent)\n        } else {\n            parent.appendChild(child)\n        }\n    }\n}\n\n/**\n * @param {*} type \n * @param {*} attributes \n * @param  {...any} children \n */\nfunction createElement(type, attributes, ...children) {\n    let e\n    if (typeof type === 'string') {\n        e = new ElementWrapper(type)\n    } else {\n        e = new type(attributes)\n    }\n    if(attributes) {\n        for(let key in attributes) {\n            let value = attributes[key]\n            e.setAttribute(key, value)\n        }\n    }\n    // if (children) {\n    //     for (let child of children) {\n    //         insertChild(child, e)          \n    //     }\n    // }\n    if (children) {\n        insertChild(children, e)\n    }\n    return e\n}\n\nfunction render(component, mountEle) { \n    // 第1课\n    // mountEle.appendChild(component.root)\n    let range = document.createRange()\n    range.setStart(mountEle, 0)\n    range.setEnd(mountEle, mountEle.childNodes.length)\n    range.deleteContents()\n    component[RENDER_TO_DOM](range)\n}\n\n\nexport { \n    createElement,\n    Component,\n    render\n}"],"sourceRoot":""}